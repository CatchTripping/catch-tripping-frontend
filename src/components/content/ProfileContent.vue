<script setup>
import { Button } from '@/components/ui/button/index.js'
import {
  Card,
  CardContent,
  CardHeader,
  CardTitle,
} from '@/components/ui/card/index.js'
import { LogOut } from 'lucide-vue-next'
import { useUserStore } from '@/stores/user'
import router from '@/router/index.js'

// 유저 정보 및 로그아웃 함수 정의
const userStore = useUserStore()
const userInfo = userStore.userInfo // userInfo 상태 가져오기

// 로그아웃 함수
const logout = async () => {
  await userStore.logout()
  await router.push('/login')
}
</script>

<template>
  <Card class="m-6 max-w-[600px]">
    <CardHeader>
      <CardTitle>프로필</CardTitle>
    </CardHeader>
    <CardContent>
      <div class="flex items-center space-x-4 mb-4">
        <img
          src="../../assets/placeholder.svg?height=100&width=100"
          alt="User"
          class="w-24 h-24 rounded-full"
        />
        <div>
          <h2 class="text-2xl font-bold">
            {{ userInfo?.userName || '사용자 이름' }}
          </h2>
          <p class="text-gray-500">
            {{ userInfo?.userEmail || 'user@example.com' }}
          </p>
        </div>
      </div>
      <div class="space-y-4">
        <Button class="w-full">프로필 편집</Button>
        <Button variant="destructive" class="w-full" @click="logout">
          <LogOut className="mr-2 h-4 w-4" />
          로그아웃
        </Button>
      </div>
    </CardContent>
  </Card>
</template>

<style scoped></style>
